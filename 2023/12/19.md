# 取り組んだ課題一覧
- すっきり分かるSQL

# わかったこと
- ３つの副作用がある
- ダーティリード(dirty read):コミットされてない未確定の変更を他の人が読めてしまう
- 反復不能読み取り(Non-repeatable read):テーブルを複数回読み取る際に、その間にデータの内容が変化して次にselectした際に検索結果が異なること. データの整合性が崩れること
- ファントムリード(phantom read):2回のselect文の間にinsert文が追加されると最初と次の検索結果が異なること.行数に依存する処理の時に問題となる
- DBMSは、あるトランザクションを実行する際、他のトランザクションから影響を受けないように、それぞれを分離して実行する。仮に他のトランザクションと同時実行でも、単独で実行している振る舞いをする
- ロック(lock):トランザクションが読み書きしている行に鍵をかけて、他からのトランザクションから読み書きできないようにする.ロックを取るorロックを取得するという
- 自分のトランザクションがコミットorロールバックで終了するとロック解除.ロック中に他のトランザクションがある場合は待機
- トランザクション分離レベル:どの程度厳密にトランザクションを分離するか決める.デフォはread commited  ダーティリードだけ発生しない
- MVCC(multi-version concurrency control):書き換え済み(未確定)と書き換え前の２つのバージョンを共存させる.書き換え中でも、書き換え前の情報が残っていて他のトランザクションから利用可能
- 明示的ロック:行ロック・表ロック・データベースロック
- 排他ロック:他からのロックを一切許可しない(主にデータ更新時に利用)
- 共有ロック:他からの共有ロックを許可する(データ読み取りに利用)
- 明示的行ロックを取得 select - for update (nowait)
- NO WAITオプション:DBMSはロック解除を待機せずに、ロック失敗のエラーを返す
- 明示的テーブルロック:lock table テーブル名 in モード名 mode (nowait) *EXCLUSIVEで排他ロック,SHAREで共有ロック
- デッドロック:お互いが次の場所にロックをかけたいところにかけて処理が永久に進まない.そうならないようにどちらかを強制終了させる機能がある
- 予防するためには、トランザクション時間を短くするか、同じ順番でロックをかけるようにする SQL文では、同じ順番や行テーブルにロックをかける

# 次やること
-　すっきり分かるSQL

# 感じたこと
- 基本情報試験の勉強中に出てきた内容だったのでサクサク進めれてよかった。

# 学習時間
- 1時間

# 累計学習時間
- 368.25時間
